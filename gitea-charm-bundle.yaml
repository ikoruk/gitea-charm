default-base: ubuntu@22.04/stable
applications:
  kteam-gitea:
    charm: local:kteam-gitea-0
    num_units: 1
    to:
    - "0"
    constraints: arch=amd64
    resources:
      gitea-binary: "./gitea"
  kteam-gitea-runner:
    charm: local:kteam-gitea-runner-0
    num_units: 1
    to:
    - "2"
    constraints: arch=amd64
  postgresql:
    charm: postgresql
    channel: 14/stable
    revision: 429
    num_units: 1
    to:
    - "1"
    constraints: arch=amd64
    storage:
      pgdata: rootfs,1,1024M
machines:
  "0": {}
  "1": {}
  "2": {}
relations:
- - postgresql:database
  - kteam-gitea:database
