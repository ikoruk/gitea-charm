# This file configures Charmcraft.
# See https://juju.is/docs/sdk/charmcraft-config for guidance.

name: kteam-gitea
title: Gitea for Canonical Kernel Team
summary: Gitea for the Canonical Kernel Team
description: |
  Gitea is a devops platform with Git hosting, CI, and more.
  This charm deploys it for the Canonical Kernel Team.

# (Required)
type: charm

# (Required for 'charm' type)
bases:
  - build-on:
    - name: ubuntu
      channel: "22.04"
    run-on:
    - name: ubuntu
      channel: "22.04"

requires:
  database:
    interface: postgresql_client

resources:
  gitea-binary:
    type: file
    filename: gitea
    description: The Gitea Go Binary to be used for this deployment

storage:
  gitea-storage:
      type: filesystem
      description: Somewhere to cache files locally.
      location: /data/gitea-storage
      minimum-size: 10G
